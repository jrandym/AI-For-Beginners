# 知识表示与专家系统

![符号人工智能内容摘要](../../../../translated_images/ai-symbolic.715a30cb610411a6964d2e2f23f24364cb338a07cb4844c1f97084d366e586c3.zh.png)

> 速记笔记由 [Tomomi Imura](https://twitter.com/girlie_mac) 提供

对人工智能的追求基于对知识的探索，旨在以类似于人类的方式理解世界。那么，如何才能实现这一目标呢？

## [课前小测](https://red-field-0a6ddfd03.1.azurestaticapps.net/quiz/102)

在人工智能的早期，创建智能系统的自上而下的方法（在上节课中讨论过）是非常流行的。其理念是将人类的知识提取到某种机器可读的形式中，然后利用这些知识自动解决问题。这种方法基于两个重要的概念：

* 知识表示
* 推理

## 知识表示

符号人工智能中的一个重要概念是**知识**。需要将知识与*信息*或*数据*区分开。例如，可以说书籍包含知识，因为通过学习书籍，人们可以成为专家。然而，书籍中所包含的实际上被称为*数据*，通过阅读书籍并将这些数据整合到我们的世界模型中，我们将这些数据转化为知识。

> ✅ **知识** 是我们头脑中所包含的，代表我们对世界的理解。它通过一个主动的**学习**过程获得，该过程将我们接收到的信息整合到我们对世界的主动模型中。

通常，我们并不会严格定义知识，而是通过 [DIKW 金字塔](https://en.wikipedia.org/wiki/DIKW_pyramid) 将其与其他相关概念对齐。它包含以下概念：

* **数据** 是以物理媒介表示的东西，如书面文本或口头语言。数据独立于人类而存在，可以在不同人之间传递。
* **信息** 是我们在脑海中对数据的解释。例如，当我们听到“计算机”这个词时，我们对它有一定的理解。
* **知识** 是被整合到我们世界模型中的信息。例如，一旦我们了解到计算机是什么，我们就开始对它的工作原理、价格以及用途有一些想法。这些相互关联的概念网络形成了我们的知识。
* **智慧** 是我们对世界理解的另一个层次，代表*元知识*，例如某种关于知识如何以及何时使用的概念。

<img src="images/DIKW_Pyramid.png" width="30%"/>

*图片 [来自维基百科](https://commons.wikimedia.org/w/index.php?curid=37705247)，作者 Longlivetheux - 自主创作，CC BY-SA 4.0*

因此，**知识表示**的问题是找到一种有效的方法，将知识以数据的形式表示在计算机内部，以使其能够自动使用。这可以视为一个光谱：

![知识表示光谱](../../../../translated_images/knowledge-spectrum.b60df631852c0217e941485b79c9eee40ebd574f15f18609cec5758fcb384bf3.zh.png)

> 图片由 [Dmitry Soshnikov](http://soshnikov.com) 提供

* 在左侧，有非常简单的知识表示类型，可以有效地被计算机使用。最简单的是算法表示，其中知识由计算机程序表示。然而，这并不是表示知识的最佳方式，因为它缺乏灵活性。我们头脑中的知识往往是非算法的。
* 在右侧，有自然文本等表示方式。这是最强大的，但不能用于自动推理。

> ✅ 想一想你是如何在脑海中表示知识并将其转化为笔记的。是否有某种特定格式对你有帮助以促进记忆？

## 分类计算机知识表示

我们可以将不同的计算机知识表示方法分类为以下几类：

* **网络表示** 基于我们头脑中存在相互关联的概念网络。我们可以尝试在计算机内部重建相同的网络 - 这被称为**语义网络**。

1. **对象-属性-值三元组** 或 **属性-值对**。由于图可以在计算机内部表示为节点和边的列表，我们可以通过包含对象、属性和值的三元组列表来表示语义网络。例如，我们构建关于编程语言的以下三元组：

对象 | 属性 | 值
-------|-----------|------
Python | 是 | 无类型语言
Python | 发明者 | Guido van Rossum
Python | 块语法 | 缩进
无类型语言 | 没有 | 类型定义

> ✅ 想想三元组如何用于表示其他类型的知识。

2. **层次表示** 强调我们通常在头脑中创建对象的层次结构。例如，我们知道金丝雀是一种鸟，而所有鸟都有翅膀。我们还对金丝雀通常的颜色以及它们的飞行速度有一定的了解。

   - **框架表示** 基于将每个对象或对象类表示为包含**插槽**的**框架**。插槽有可能的默认值、值限制或可以调用的存储过程以获得插槽的值。所有框架形成类似于面向对象编程语言中的对象层次结构。
   - **场景** 是一种特殊类型的框架，表示随时间展开的复杂情况。

**Python**

插槽 | 值 | 默认值 | 区间 |
-----|-------|---------------|----------|
名称 | Python | | |
是 | 无类型语言 | | |
变量大小写 | | 驼峰式 | |
程序长度 | | | 5-5000 行 |
块语法 | 缩进 | | |

3. **过程表示** 基于通过一系列在特定条件下可以执行的操作来表示知识。
   - 生产规则是 if-then 语句，允许我们得出结论。例如，医生可以有一个规则说 **如果** 患者有高烧 **或** 血液检查中 C 反应蛋白水平高 **那么** 他有炎症。一旦我们遇到其中一个条件，就可以得出关于炎症的结论，并在进一步推理中使用它。
   - 算法可以被视为另一种形式的过程表示，尽管它们几乎从未直接用于基于知识的系统。

4. **逻辑** 最初由亚里士多德提出，作为表示普遍人类知识的一种方式。
   - 谓词逻辑作为一种数学理论过于复杂，无法被计算，因此通常使用其某个子集，例如在 Prolog 中使用的霍恩子句。
   - 描述逻辑是一类逻辑系统，用于表示和推理关于分布式知识表示的对象层次结构，如*语义网*。

## 专家系统

符号人工智能的早期成功之一是所谓的**专家系统** - 设计用于在某些有限问题领域充当专家的计算机系统。它们基于从一个或多个人类专家提取的**知识库**，并包含一个在其上执行推理的**推理引擎**。

![人类架构](../../../../translated_images/arch-human.5d4d35f1bba3ab1cdfda96af2f10b89574eb31e9796d0e3011cd9beda1c35112.zh.png) | ![基于知识的系统](../../../../translated_images/arch-kbs.3ec5c150b09fa8dadc2beb0931a4983c9e2b03913a89eebcc103b5bb841b0212.zh.png)
---------------------------------------------|------------------------------------------------
人类神经系统的简化结构 | 基于知识的系统架构

专家系统的构建方式类似于人类的推理系统，其中包含**短期记忆**和**长期记忆**。同样，在基于知识的系统中，我们区分以下组件：

* **问题记忆**：包含当前正在解决的问题的知识，即患者的体温或血压，他是否有炎症等。这种知识也称为**静态知识**，因为它包含我们目前对问题的快照 - 所谓的*问题状态*。
* **知识库**：表示关于问题领域的长期知识。它是从人类专家手动提取的，并且在不同咨询之间不会改变。因为它允许我们从一个问题状态导航到另一个，所以也称为**动态知识**。
* **推理引擎**：协调在问题状态空间中的整个搜索过程，必要时向用户询问问题。它还负责找到适用于每个状态的正确规则。

作为一个例子，让我们考虑以下基于其物理特征确定动物的专家系统：

![AND-OR 树](../../../../translated_images/AND-OR-Tree.5592d2c70187f283703c8e9c0d69d6a786eb370f4ace67f9a7aae5ada3d260b0.zh.png)

> 图片由 [Dmitry Soshnikov](http://soshnikov.com) 提供

该图被称为**AND-OR 树**，是生产规则集的图形表示。在从专家提取知识的初期，绘制树是有用的。为了在计算机内部表示知识，使用规则更为方便：

```
IF the animal eats meat
OR (animal has sharp teeth
    AND animal has claws
    AND animal has forward-looking eyes
) 
THEN the animal is a carnivore
```

你会注意到规则左侧的每个条件和动作本质上是对象-属性-值（OAV）三元组。**工作记忆**包含与当前正在解决的问题相对应的 OAV 三元组集合。**规则引擎**查找条件满足的规则并应用它们，向工作记忆添加另一个三元组。

> ✅ 在你喜欢的主题上写下自己的 AND-OR 树！

### 前向推理与后向推理

上述过程称为**前向推理**。它从工作记忆中关于问题的一些初始数据开始，然后执行以下推理循环：

1. 如果目标属性在工作记忆中存在 - 停止并给出结果
2. 查找所有当前条件满足的规则 - 获取**冲突集**。
3. 执行**冲突解决** - 选择将在此步骤中执行的一条规则。可能有不同的冲突解决策略：
   - 选择知识库中第一个适用的规则
   - 随机选择一条规则
   - 选择一个*更具体*的规则，即在“左侧”（LHS）满足最多条件的规则
4. 应用所选规则并将新知识插入问题状态
5. 从步骤 1 重复。

然而，在某些情况下，我们可能希望从对问题的空知识开始，并询问问题以帮助我们得出结论。例如，在进行医学诊断时，我们通常不会在开始诊断患者之前进行所有医学分析。我们更倾向于在需要做出决策时进行分析。

这个过程可以通过**后向推理**建模。它由**目标**驱动 - 我们希望找到的属性值：

1. 选择所有可以给我们目标值的规则（即在右侧（RHS）有目标的规则） - 冲突集
2. 如果没有该属性的规则，或者有规则表明我们应该向用户询问该值 - 则询问，否则：
3. 使用冲突解决策略选择一条规则作为*假设* - 我们将尝试证明它
4. 对规则左侧（LHS）中的所有属性重复该过程，尝试将其证明为目标
5. 如果在任何时候过程失败 - 在第 3 步使用另一条规则。

> ✅ 在哪些情况下前向推理更合适？后向推理又如何？

### 实现专家系统

专家系统可以使用不同的工具实现：

* 直接用某种高级编程语言编写。这不是最佳选择，因为基于知识的系统的主要优势在于知识与推理是分开的，潜在的问题领域专家应该能够在不理解推理过程细节的情况下编写规则。
* 使用**专家系统外壳**，即专门设计用于通过某种知识表示语言填充知识的系统。

## ✍️ 练习：动物推理

请查看 [Animals.ipynb](https://github.com/microsoft/AI-For-Beginners/blob/main/lessons/2-Symbolic/Animals.ipynb)，了解实现前向和后向推理专家系统的示例。

> **注意**：这个例子相对简单，仅给出了专家系统的外观。一旦你开始创建这样的系统，只有在达到一定数量的规则（大约 200 条以上）时，你才会注意到它的一些*智能*行为。在某个时候，规则变得过于复杂，难以全部记住，这时你可能会开始想知道系统为什么做出某些决策。然而，基于知识的系统的重要特征是你总是可以*解释*任何决策是如何做出的。

## 本体论与语义网

在 20 世纪末，有一个倡议使用知识表示来注释互联网资源，以便能够找到与非常具体查询相对应的资源。这一运动被称为**语义网**，它依赖于几个概念：

- 基于**[描述逻辑](https://en.wikipedia.org/wiki/Description_logic)**（DL）的特殊知识表示。它类似于框架知识表示，因为它构建了具有属性的对象层次结构，但它具有正式的逻辑语义和推理。存在一整套 DL，在表达力和推理的算法复杂性之间取得平衡。
- 分布式知识表示，其中所有概念都通过全球 URI 标识符表示，使得能够创建跨越互联网的知识层次结构。
- 一系列基于 XML 的知识描述语言：RDF（资源描述框架）、RDFS（RDF 架构）、OWL（本体网页语言）。

语义网的核心概念是**本体**。它指的是使用某种形式的知识表示对问题领域的明确规范。最简单的本体可以仅是问题领域中对象的层次结构，但更复杂的本体将包括可用于推理的规则。

在语义网中，所有表示都是基于三元组的。每个对象和每个关系都由 URI 唯一标识。例如，如果我们想陈述这一事实，即该人工智能课程由 Dmitry Soshnikov 于 2022 年 1 月 1 日开发 - 这里是我们可以使用的三元组：

<img src="images/triplet.png" width="30%"/>

```
http://github.com/microsoft/ai-for-beginners http://www.example.com/terms/creation-date “Jan 13, 2007”
http://github.com/microsoft/ai-for-beginners http://purl.org/dc/elements/1.1/creator http://soshnikov.com
```

> ✅ 这里 `http://www.example.com/terms/creation-date` and `http://purl.org/dc/elements/1.1/creator` 是一些众所周知且普遍接受的 URI，用于表达*创建者*和*创建日期*的概念。

在更复杂的情况下，如果我们想定义一个创作者列表，我们可以使用 RDF 中定义的一些数据结构。

<img src="images/triplet-complex.png" width="40%"/>

> 上述图表由 [Dmitry Soshnikov](http://soshnikov.com) 提供

构建语义网的进展在某种程度上被搜索引擎和自然语言处理技术的成功所减缓，这些技术允许从文本中提取结构化数据。然而，在某些领域，仍然有显著的努力来维护本体和知识库。有几个值得注意的项目：

* [WikiData](https://wikidata.org/) 是一个与维基百科相关的机器可读知识库的集合。大多数数据是从维基百科的*信息框*中提取的，即维基百科页面中的结构化内容。你可以在 SPARQL 中 [查询](https://query.wikidata.org/) wikidata，这是一个专门用于语义网的查询语言。以下是一个示例查询，显示人类中最受欢迎的眼睛颜色：

```sparql
#defaultView:BubbleChart
SELECT ?eyeColorLabel (COUNT(?human) AS ?count)
WHERE
{
  ?human wdt:P31 wd:Q5.       # human instance-of homo sapiens
  ?human wdt:P1340 ?eyeColor. # human eye-color ?eyeColor
  SERVICE wikibase:label { bd:serviceParam wikibase:language "en". }
}
GROUP BY ?eyeColorLabel
```

* [DBpedia](https://www.dbpedia.org/) 是另一个类似于 WikiData 的努力。

> ✅ 如果你想尝试构建自己的本体或打开现有的本体，有一个很好的可视化本体编辑器叫做 [Protégé](https://protege.stanford.edu/)。下载它，或在线使用。

<img src="images/protege.png" width="70%"/>

*Web Protégé 编辑器打开与罗曼诺夫家族本体。截图由 Dmitry Soshnikov 提供*

## ✍️ 练习：家庭本体

请查看 [FamilyOntology.ipynb](https://github.com/Ezana135/AI-For-Beginners/blob/main/lessons/2-Symbolic/FamilyOntology.ipynb)，了解使用语义网技术推理家庭关系的示例。我们将采用以常见 GEDCOM 格式表示的家谱和家庭关系本体，并为给定的一组个体构建所有家庭关系的图。

## 微软概念图

在大多数情况下，本体是手工精心创建的。然而，也可以从非结构化数据中**挖掘**本体，例如，从自然语言文本中。

微软研究院进行了一次这样的尝试，结果就是 [微软概念图](https://blogs.microsoft.com/ai/microsoft-researchers-release-graph-that-helps-machines-conceptualize/?WT.mc_id=academic-77998-cacaste)。

它是一个大型实体集合，使用`is-a`继承关系进行分组。它可以回答诸如“微软是什么？”这样的问题 - 答案可能是“一个概率为 0.87 的公司，以及一个概率为 0.75 的品牌”。

该图可通过 REST API 或大型可下载文本文件获取，该文件列出了所有实体对。

## ✍️ 练习：概念图

尝试 [MSConceptGraph.ipynb](https://github.com/microsoft/AI-For-Beginners/blob/main/lessons/2-Symbolic/MSConceptGraph.ipynb) 笔记本，看看我们如何使用微软概念图将新闻文章分组到几个类别中。

## 结论

如今，人工智能通常被视为*机器学习*或*神经网络*的同义词。然而，人类也表现出明确的推理能力，而这正是当前神经网络无法处理的。在实际项目中，明确的推理仍然用于执行需要解释的任务，或者能够以受控的方式修改系统的行为。

## 🚀 挑战

在与本节课相关的家庭本体笔记本中，有机会尝试其他家庭关系。尝试发现家谱中人们之间的新联系。

## [课后小测](https://red-field-0a6ddfd03.1.azurestaticapps.net/quiz/202)

## 复习与自学

在互联网上进行一些研究，发现人类尝试量化和编码知识的领域。看看布鲁姆的分类法，并回顾历史，了解人类如何试图理解他们的世界。探索林奈的工作，创建生物的分类法，并观察德米特里·门捷列夫如何创建化学元素的描述和分组方式。你还能找到其他有趣的例子吗？

**作

**免责声明**：  
本文件是使用机器翻译的人工智能翻译服务进行翻译的。虽然我们努力追求准确性，但请注意，自动翻译可能包含错误或不准确之处。原始文件的母语版本应被视为权威来源。对于关键信息，建议进行专业人工翻译。我们不对因使用此翻译而导致的任何误解或误释承担责任。